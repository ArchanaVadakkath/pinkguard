<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Iron Deficiency / Anaemia Check ‚Äî PinkGuard</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=DM+Sans:wght@300;400;500&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --rose: #c0444e;
        --rose-light: #e07080;
        --plum: #6b2435;
        --blush: #fdecea;
        --cream: #fdf8f6;
        --text: #251418;
        --muted: #9b6a72;
        --card-bg: rgba(255, 255, 255, 0.75);
        --shadow: 0 8px 32px rgba(107, 36, 53, 0.1);
      }
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body {
        font-family: "DM Sans", sans-serif;
        background: var(--cream);
        color: var(--text);
        min-height: 100vh;
        overflow-x: hidden;
      }
      body::before {
        content: "";
        position: fixed;
        inset: 0;
        background:
          radial-gradient(
            ellipse 70% 55% at 10% 0%,
            #ffe0e455 0%,
            transparent 55%
          ),
          radial-gradient(
            ellipse 55% 50% at 90% 100%,
            #ffd9d933 0%,
            transparent 55%
          );
        pointer-events: none;
        z-index: 0;
      }
      body::after {
        content: "";
        position: fixed;
        inset: 0;
        background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.03'/%3E%3C/svg%3E");
        pointer-events: none;
        z-index: 0;
        opacity: 0.4;
      }
      .page-wrap {
        position: relative;
        z-index: 1;
      }

      /* NAVBAR */
      .navbar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 22px 60px;
        background: rgba(253, 248, 246, 0.85);
        backdrop-filter: blur(16px);
        border-bottom: 1px solid rgba(192, 68, 78, 0.1);
        position: sticky;
        top: 0;
        z-index: 100;
        animation: slideDown 0.6s ease both;
      }
      .logo {
        display: flex;
        align-items: center;
        gap: 10px;
        font-family: "Playfair Display", serif;
        font-size: 22px;
        font-weight: 700;
        color: var(--plum);
        letter-spacing: -0.02em;
        text-decoration: none;
      }
      .logo-icon {
        width: 36px;
        height: 36px;
        background: linear-gradient(135deg, var(--rose), var(--rose-light));
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 16px;
        box-shadow: 0 4px 14px rgba(192, 68, 78, 0.3);
        flex-shrink: 0;
      }
      .back-btn {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 9px 20px;
        background: transparent;
        border: 1.5px solid rgba(107, 36, 53, 0.15);
        color: var(--muted);
        border-radius: 50px;
        font-size: 13px;
        font-weight: 500;
        font-family: "DM Sans", sans-serif;
        cursor: pointer;
        transition: all 0.2s ease;
      }
      .back-btn:hover {
        border-color: var(--rose);
        color: var(--rose);
        background: var(--blush);
      }
      .back-btn svg {
        width: 14px;
        height: 14px;
        stroke: currentColor;
        fill: none;
        stroke-width: 2.5;
        stroke-linecap: round;
        stroke-linejoin: round;
      }

      /* HERO */
      .hero {
        padding: 60px 60px 0;
        max-width: 820px;
        animation: fadeUp 0.7s 0.05s ease both;
      }
      .hero-badge {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        background: var(--blush);
        color: var(--rose);
        font-size: 12px;
        font-weight: 600;
        letter-spacing: 0.1em;
        text-transform: uppercase;
        padding: 6px 14px;
        border-radius: 50px;
        margin-bottom: 20px;
        border: 1px solid rgba(192, 68, 78, 0.15);
      }
      .hero h1 {
        font-family: "Playfair Display", serif;
        font-size: 46px;
        font-weight: 700;
        color: var(--plum);
        letter-spacing: -0.025em;
        line-height: 1.15;
        margin-bottom: 12px;
      }
      .hero h1 em {
        font-style: italic;
        color: var(--rose);
      }
      .hero p {
        font-size: 16px;
        color: var(--muted);
        font-weight: 300;
        line-height: 1.65;
      }

      /* LAYOUT */
      .content {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        padding: 36px 60px 100px;
        align-items: start;
      }

      /* PANEL */
      .panel {
        background: var(--card-bg);
        border-radius: 24px;
        padding: 28px;
        border: 1px solid rgba(255, 255, 255, 0.9);
        box-shadow: var(--shadow);
        backdrop-filter: blur(14px);
        position: relative;
        overflow: hidden;
        animation: fadeUp 0.7s ease both;
      }
      .panel::before {
        content: "";
        position: absolute;
        inset: 0;
        border-radius: 24px;
        background: linear-gradient(
          135deg,
          rgba(255, 255, 255, 0.5) 0%,
          transparent 60%
        );
        pointer-events: none;
      }
      .card-blob {
        position: absolute;
        right: -28px;
        bottom: -28px;
        width: 120px;
        height: 120px;
        background: radial-gradient(
          circle,
          rgba(192, 68, 78, 0.07) 0%,
          transparent 70%
        );
        border-radius: 50%;
        pointer-events: none;
      }
      .card-accent-bar {
        width: 32px;
        height: 4px;
        border-radius: 2px;
        background: linear-gradient(90deg, var(--rose), var(--rose-light));
        margin-bottom: 18px;
      }
      .panel-title {
        font-family: "Playfair Display", serif;
        font-size: 20px;
        font-weight: 700;
        color: var(--plum);
        letter-spacing: -0.01em;
        margin-bottom: 6px;
      }
      .panel-sub {
        font-size: 13px;
        color: var(--muted);
        font-weight: 300;
        margin-bottom: 22px;
        line-height: 1.5;
      }

      /* SYMPTOMS */
      .count-badge {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        font-size: 12px;
        font-weight: 600;
        background: var(--blush);
        color: var(--rose);
        padding: 4px 12px;
        border-radius: 20px;
        border: 1px solid rgba(192, 68, 78, 0.15);
        margin-bottom: 16px;
      }
      .symptom-grid {
        display: flex;
        flex-direction: column;
        gap: 8px;
      }
      .symptom-item {
        display: flex;
        align-items: center;
        gap: 14px;
        padding: 13px 16px;
        border-radius: 14px;
        border: 1.5px solid rgba(107, 36, 53, 0.1);
        background: rgba(255, 255, 255, 0.6);
        cursor: pointer;
        transition: all 0.2s ease;
      }
      .symptom-item:hover {
        border-color: rgba(192, 68, 78, 0.3);
        background: var(--blush);
      }
      .symptom-item.selected {
        border-color: var(--rose);
        background: linear-gradient(135deg, #fff0f0, var(--blush));
        box-shadow: 0 0 0 3px rgba(192, 68, 78, 0.08);
      }
      .symptom-item input[type="checkbox"] {
        width: 18px;
        height: 18px;
        padding: 0;
        accent-color: var(--rose);
        flex-shrink: 0;
        cursor: pointer;
      }
      .symptom-emoji {
        font-size: 18px;
        flex-shrink: 0;
      }
      .symptom-text {
        font-size: 14px;
        font-weight: 400;
        color: var(--text);
        line-height: 1.3;
      }
      .symptom-item.selected .symptom-text {
        color: var(--plum);
        font-weight: 500;
      }

      .analyze-btn {
        width: 100%;
        padding: 14px;
        background: linear-gradient(135deg, var(--rose), var(--rose-light));
        color: white;
        border: none;
        border-radius: 14px;
        font-size: 15px;
        font-weight: 500;
        font-family: "DM Sans", sans-serif;
        cursor: pointer;
        transition: all 0.25s ease;
        box-shadow: 0 6px 20px rgba(192, 68, 78, 0.3);
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        margin-top: 18px;
      }
      .analyze-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 28px rgba(192, 68, 78, 0.4);
      }
      .analyze-btn:disabled {
        opacity: 0.5;
        cursor: not-allowed;
        transform: none;
      }
      .analyze-btn svg {
        width: 16px;
        height: 16px;
        stroke: white;
        fill: none;
        stroke-width: 2.5;
        stroke-linecap: round;
        stroke-linejoin: round;
      }

      /* RESULT */
      .result-panel {
        animation-delay: 0.2s;
      }
      .empty-state {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 48px 20px;
        text-align: center;
      }
      .empty-icon {
        font-size: 48px;
        margin-bottom: 14px;
        opacity: 0.35;
      }
      .empty-title {
        font-family: "Playfair Display", serif;
        font-size: 18px;
        color: var(--plum);
        margin-bottom: 8px;
      }
      .empty-text {
        font-size: 13px;
        color: var(--muted);
        font-weight: 300;
        line-height: 1.6;
      }

      .risk-meter {
        margin-bottom: 20px;
      }
      .risk-label-row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 10px;
      }
      .risk-level-text {
        font-family: "Playfair Display", serif;
        font-size: 22px;
        font-weight: 700;
        color: var(--plum);
      }
      .risk-pill {
        font-size: 12px;
        font-weight: 600;
        padding: 4px 14px;
        border-radius: 20px;
        letter-spacing: 0.06em;
        text-transform: uppercase;
      }
      .risk-low {
        background: #e8f5e9;
        color: #2e7d32;
        border: 1px solid rgba(46, 125, 50, 0.2);
      }
      .risk-moderate {
        background: #fff3e0;
        color: #e65100;
        border: 1px solid rgba(230, 81, 0, 0.2);
      }
      .risk-high {
        background: var(--blush);
        color: var(--rose);
        border: 1px solid rgba(192, 68, 78, 0.2);
      }
      .risk-bar-track {
        height: 8px;
        background: rgba(107, 36, 53, 0.1);
        border-radius: 4px;
        overflow: hidden;
      }
      .risk-bar-fill {
        height: 100%;
        border-radius: 4px;
        transition: width 1s ease;
        width: 0%;
      }
      .risk-bar-low {
        background: linear-gradient(90deg, #66bb6a, #43a047);
      }
      .risk-bar-moderate {
        background: linear-gradient(90deg, #ffa726, #ef6c00);
      }
      .risk-bar-high {
        background: linear-gradient(90deg, var(--rose), var(--rose-light));
      }

      .support-box {
        border-radius: 16px;
        padding: 18px;
        margin-bottom: 18px;
        border: 1px solid;
      }
      .support-box.low {
        background: #f0fdf4;
        border-color: rgba(46, 125, 50, 0.15);
      }
      .support-box.moderate {
        background: #fffbf0;
        border-color: rgba(230, 81, 0, 0.15);
      }
      .support-box.high {
        background: #fff5f5;
        border-color: rgba(192, 68, 78, 0.15);
      }
      .support-icon {
        font-size: 28px;
        margin-bottom: 10px;
        display: block;
      }
      .support-title {
        font-family: "Playfair Display", serif;
        font-size: 16px;
        font-weight: 700;
        margin-bottom: 8px;
      }
      .support-box.low .support-title {
        color: #2e7d32;
      }
      .support-box.moderate .support-title {
        color: #e65100;
      }
      .support-box.high .support-title {
        color: var(--rose);
      }
      .support-text {
        font-size: 13px;
        line-height: 1.75;
        font-weight: 300;
        color: #444;
      }

      .steps-title {
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 14px;
        font-weight: 600;
        color: var(--plum);
        margin-bottom: 12px;
      }
      .steps-list {
        list-style: none;
        display: flex;
        flex-direction: column;
        gap: 8px;
        margin-bottom: 18px;
      }
      .step-item {
        display: flex;
        align-items: flex-start;
        gap: 12px;
        padding: 12px 14px;
        background: rgba(255, 255, 255, 0.7);
        border-radius: 12px;
        font-size: 13px;
        color: var(--text);
        line-height: 1.5;
        border: 1px solid rgba(192, 68, 78, 0.07);
        animation: fadeUp 0.4s ease both;
      }
      .step-num {
        width: 22px;
        height: 22px;
        background: linear-gradient(135deg, var(--rose), var(--rose-light));
        color: white;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 11px;
        font-weight: 700;
        flex-shrink: 0;
        margin-top: 1px;
      }

      .food-section-title {
        display: flex;
        align-items: center;
        gap: 8px;
        font-size: 14px;
        font-weight: 600;
        color: var(--plum);
        margin-bottom: 12px;
      }
      .food-list {
        list-style: none;
        display: flex;
        flex-direction: column;
        gap: 8px;
        margin-bottom: 18px;
      }
      .food-item {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 11px 14px;
        background: rgba(255, 255, 255, 0.65);
        border-radius: 12px;
        font-size: 13px;
        color: var(--text);
        border: 1px solid rgba(192, 68, 78, 0.07);
        animation: fadeUp 0.4s ease both;
      }
      .food-item-icon {
        font-size: 18px;
        flex-shrink: 0;
      }

      .disclaimer-chip {
        display: flex;
        align-items: flex-start;
        gap: 10px;
        padding: 12px 14px;
        background: rgba(255, 243, 205, 0.7);
        border: 1px solid rgba(255, 193, 7, 0.25);
        border-radius: 12px;
        font-size: 12px;
        color: #6d4c00;
        line-height: 1.5;
        margin-bottom: 18px;
      }
      .reset-btn {
        width: 100%;
        padding: 12px;
        background: transparent;
        border: 1.5px solid rgba(107, 36, 53, 0.15);
        color: var(--plum);
        border-radius: 14px;
        font-size: 14px;
        font-weight: 500;
        font-family: "DM Sans", sans-serif;
        cursor: pointer;
        transition: all 0.25s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
      }
      .reset-btn:hover {
        border-color: var(--rose);
        color: var(--rose);
        background: var(--blush);
      }

      .footer {
        text-align: center;
        padding: 28px;
        font-size: 13px;
        color: var(--muted);
        border-top: 1px solid rgba(192, 68, 78, 0.08);
        font-weight: 300;
      }
      .footer strong {
        font-weight: 600;
        color: var(--plum);
        font-family: "Playfair Display", serif;
      }

      @keyframes fadeUp {
        from {
          opacity: 0;
          transform: translateY(22px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      @keyframes slideDown {
        from {
          opacity: 0;
          transform: translateY(-16px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      @keyframes resultReveal {
        from {
          opacity: 0;
          transform: translateY(12px) scale(0.98);
        }
        to {
          opacity: 1;
          transform: translateY(0) scale(1);
        }
      }

      @media (max-width: 900px) {
        .navbar {
          padding: 18px 24px;
        }
        .hero {
          padding: 44px 24px 0;
        }
        .hero h1 {
          font-size: 32px;
        }
        .content {
          grid-template-columns: 1fr;
          padding: 28px 24px 70px;
        }
      }
    </style>
  </head>
  <body>
    <div class="page-wrap">
      <nav class="navbar">
        <a href="index.html" class="logo"
          ><div class="logo-icon">üå∑</div>
          PinkGuard</a
        >
        <button
          class="back-btn"
          onclick="window.location.href = 'dashboard.html'"
        >
          <svg viewBox="0 0 24 24"><polyline points="15 18 9 12 15 6" /></svg
          >Back to Dashboard
        </button>
      </nav>

      <header class="hero">
        <div class="hero-badge">ü©∏ Iron Deficiency / Anaemia</div>
        <h1>Fuel your body,<br /><em>reclaim your energy.</em></h1>
        <p>
          Iron deficiency is the most common nutritional deficiency worldwide ‚Äî
          and women are most at risk. Check your symptoms for an early awareness
          report.
        </p>
      </header>

      <main class="content">
        <div class="panel" style="animation-delay: 0.1s">
          <div class="card-blob"></div>
          <div class="card-accent-bar"></div>
          <div class="panel-title">Symptom Checklist</div>
          <div class="panel-sub">Check everything that applies to you</div>
          <div class="count-badge" id="countBadge">0 symptoms selected</div>
          <div class="symptom-grid" id="symptomList"></div>
          <button
            class="analyze-btn"
            id="analyzeBtn"
            onclick="analyze()"
            disabled
          >
            <svg viewBox="0 0 24 24">
              <circle cx="11" cy="11" r="8" />
              <line x1="21" y1="21" x2="16.65" y2="16.65" />
            </svg>
            Analyze Symptoms
          </button>
        </div>

        <div class="panel result-panel" style="animation-delay: 0.2s">
          <div class="card-blob"></div>
          <div class="card-accent-bar"></div>
          <div class="panel-title">Your Result</div>
          <div class="panel-sub">Personalised iron health awareness report</div>
          <div id="resultContent">
            <div class="empty-state">
              <div class="empty-icon">ü©∏</div>
              <div class="empty-title">Awaiting your symptoms</div>
              <div class="empty-text">
                Select symptoms on the left and tap <strong>Analyze</strong> to
                receive your personalised report.
              </div>
            </div>
          </div>
        </div>
      </main>

      <footer class="footer">
        ¬© 2026 <strong>PinkGuard</strong> ¬∑ Made with care üå∑ ¬∑ For awareness
        only ‚Äî not a substitute for medical diagnosis.
      </footer>
    </div>

    <script>
      const SYMPTOMS = [
        { emoji: "üò¥", text: "Persistent fatigue that rest doesn't fix" },
        { emoji: "üòÆ‚Äçüí®", text: "Shortness of breath during normal activities" },
        { emoji: "üíõ", text: "Pale, yellowish, or washed-out skin tone" },
        { emoji: "üíì", text: "Rapid, irregular, or pounding heartbeat" },
        {
          emoji: "ü•∂",
          text: "Always feeling cold ‚Äî especially hands and feet",
        },
        {
          emoji: "ü§ï",
          text: "Frequent headaches, dizziness, or lightheadedness",
        },
        { emoji: "üíÖ", text: "Brittle, weak, or spoon-shaped nails" },
        { emoji: "ü´¶", text: "Sore, swollen tongue or mouth ulcers" },
        { emoji: "üò∂", text: "Difficulty concentrating or brain fog" },
        {
          emoji: "üç¶",
          text: "Craving non-food items (ice, dirt, chalk ‚Äî pica)",
        },
      ];

      const RESULTS = {
        low: {
          level: "Low Risk",
          pillClass: "risk-low",
          barClass: "risk-bar-low",
          barPct: "20%",
          supportClass: "low",
          supportIcon: "üíö",
          supportTitle: "Your energy and iron levels seem to be in good shape.",
          supportText:
            "Your current symptoms don't strongly suggest iron deficiency ‚Äî that's great to hear! Iron is one of the most essential minerals for women, especially during menstruation. Continuing to eat iron-rich foods and living an active life will keep you feeling your best. You're already ahead of the curve by checking in with your health.",
          steps: [
            "Continue eating iron-rich foods ‚Äî red meat, leafy greens, legumes, and fortified cereals",
            "Always pair iron-rich meals with vitamin C (lemon, orange) to maximise absorption",
            "Avoid tea and coffee immediately after iron-rich meals ‚Äî they reduce absorption",
            "Include a full blood count (CBC) in your annual health check as a routine precaution",
          ],
          foods: [
            {
              emoji: "ü•¨",
              text: "Spinach & lentil bowl with lemon ‚Äî iron-packed",
            },
            {
              emoji: "ü•§",
              text: "Beetroot & carrot juice ‚Äî natural haemoglobin boost",
            },
            { emoji: "üç¨", text: "Dates & jaggery ‚Äî traditional iron snack" },
            {
              emoji: "üçä",
              text: "Citrus fruits ‚Äî vitamin C for better absorption",
            },
          ],
        },
        moderate: {
          level: "Moderate Risk",
          pillClass: "risk-moderate",
          barClass: "risk-bar-moderate",
          barPct: "58%",
          supportClass: "moderate",
          supportIcon: "üß°",
          supportTitle: "Your body may be running low ‚Äî and that's fixable.",
          supportText:
            "The tiredness, the coldness, the brain fog ‚Äî these aren't just 'in your head' or a sign that you need to push harder. They could well be your body's way of asking for more iron. The good news? Iron deficiency is one of the most straightforward conditions to treat. A simple blood test can confirm it, and with the right support, most people feel significantly better within weeks.",
          steps: [
            "Visit your GP and request a full blood count (CBC) and serum ferritin test",
            "Share how long you've had these symptoms and how they affect your daily life",
            "Ask about iron supplementation ‚Äî your doctor will guide you on dosage and type",
            "Increase dietary iron immediately: red meat, lentils, dark leafy greens, fortified foods",
            "Pair every iron-rich meal with vitamin C; avoid calcium and caffeine around mealtimes",
          ],
          foods: [
            {
              emoji: "ü•©",
              text: "Lean red meat or chicken liver ‚Äî high bioavailable iron",
            },
            {
              emoji: "ü•¨",
              text: "Spinach, kale, and dark greens ‚Äî plant iron source",
            },
            { emoji: "ü´ò", text: "Lentils and chickpeas ‚Äî iron + protein" },
            {
              emoji: "üçπ",
              text: "Pomegranate & amla smoothie ‚Äî iron absorption booster",
            },
          ],
        },
        high: {
          level: "High Risk",
          pillClass: "risk-high",
          barClass: "risk-bar-high",
          barPct: "95%",
          supportClass: "high",
          supportIcon: "‚ù§Ô∏è",
          supportTitle:
            "Please be gentle with yourself ‚Äî and please seek help today.",
          supportText:
            "What you're experiencing sounds genuinely hard. The exhaustion, the breathlessness, the constant coldness ‚Äî these aren't weaknesses. They are real, physical signs that your body is struggling to carry enough oxygen, and that takes a real toll on everything you do. Untreated iron deficiency anaemia can worsen significantly, but it is one of the most treatable conditions there is. You deserve to feel well again. Please see a doctor soon ‚Äî for you.",
          steps: [
            "See a doctor urgently ‚Äî ideally today or tomorrow. This level of symptoms warrants prompt attention",
            "Request a full blood count (CBC), serum ferritin, serum iron, and TIBC (total iron binding capacity)",
            "Discuss whether oral iron supplements or, in severe cases, iron infusion therapy is needed",
            "Ask about the underlying cause ‚Äî heavy periods, poor absorption, or dietary gaps",
            "If you feel faint, have chest pain, or severe breathlessness, seek emergency care",
            "Rest when you need to ‚Äî your body is working harder than usual and deserves rest",
          ],
          foods: [
            {
              emoji: "ü•©",
              text: "Liver & lean red meat ‚Äî highest bioavailable iron",
            },
            {
              emoji: "ü•¨",
              text: "Dark leafy greens every day ‚Äî spinach, methi, kale",
            },
            {
              emoji: "üç¨",
              text: "Dates, raisins & jaggery ‚Äî easy daily iron snack",
            },
            {
              emoji: "üçä",
              text: "Vitamin C at every iron-rich meal ‚Äî doubles absorption",
            },
          ],
        },
      };

      let selected = [];

      function init() {
        const list = document.getElementById("symptomList");
        list.innerHTML = SYMPTOMS.map(
          (s, i) => `
          <label class="symptom-item" id="item-${i}" onclick="toggle(${i},event)">
            <input type="checkbox" id="chk-${i}" onclick="event.stopPropagation();toggle(${i})"/>
            <span class="symptom-emoji">${s.emoji}</span>
            <span class="symptom-text">${s.text}</span>
          </label>`,
        ).join("");
      }

      function toggle(i, e) {
        if (e && e.target.tagName === "INPUT") return;
        const chk = document.getElementById(`chk-${i}`);
        const item = document.getElementById(`item-${i}`);
        chk.checked = !chk.checked;
        item.classList.toggle("selected", chk.checked);
        selected = [
          ...document.querySelectorAll(".symptom-item input:checked"),
        ].map((c) => parseInt(c.id.split("-")[1]));
        const n = selected.length;
        document.getElementById("countBadge").textContent =
          n === 0
            ? "0 symptoms selected"
            : n === 1
              ? "1 symptom selected"
              : `${n} symptoms selected`;
        document.getElementById("analyzeBtn").disabled = n === 0;
      }

      function analyze() {
        const pct = selected.length / SYMPTOMS.length;
        const r =
          pct <= 0.25
            ? RESULTS.low
            : pct <= 0.6
              ? RESULTS.moderate
              : RESULTS.high;
        const stepsHTML = r.steps
          .map(
            (s, i) =>
              `<li class="step-item" style="animation-delay:${i * 0.07}s"><div class="step-num">${i + 1}</div><span>${s}</span></li>`,
          )
          .join("");
        const foodHTML = r.foods
          .map(
            (f, i) =>
              `<li class="food-item" style="animation-delay:${i * 0.07}s"><span class="food-item-icon">${f.emoji}</span>${f.text}</li>`,
          )
          .join("");

        document.getElementById("resultContent").innerHTML = `
          <div style="animation:resultReveal 0.5s ease both">
            <div class="risk-meter">
              <div class="risk-label-row">
                <div class="risk-level-text">${r.level}</div>
                <div class="risk-pill ${r.pillClass}">${selected.length}/${SYMPTOMS.length} symptoms</div>
              </div>
              <div class="risk-bar-track"><div class="risk-bar-fill ${r.barClass}" id="riskBar"></div></div>
            </div>
            <div class="support-box ${r.supportClass}">
              <span class="support-icon">${r.supportIcon}</span>
              <div class="support-title">${r.supportTitle}</div>
              <div class="support-text">${r.supportText}</div>
            </div>
            <div class="steps-title">üìã Your Next Steps</div>
            <ul class="steps-list">${stepsHTML}</ul>
            <div class="food-section-title">ü•ó Iron-Rich Nutrition</div>
            <ul class="food-list">${foodHTML}</ul>
            <div class="disclaimer-chip">‚ö†Ô∏è <span>This tool is for <strong>awareness and education only</strong>. It does not diagnose any medical condition. Please consult a qualified healthcare professional.</span></div>
            <button class="reset-btn" onclick="resetCheck()">‚Ü© Check Again</button>
          </div>`;
        setTimeout(() => {
          const b = document.getElementById("riskBar");
          if (b) b.style.width = r.barPct;
        }, 100);
      }

      function resetCheck() {
        selected = [];
        document
          .querySelectorAll(".symptom-item")
          .forEach((el) => el.classList.remove("selected"));
        document
          .querySelectorAll(".symptom-item input")
          .forEach((c) => (c.checked = false));
        document.getElementById("countBadge").textContent =
          "0 symptoms selected";
        document.getElementById("analyzeBtn").disabled = true;
        document.getElementById("resultContent").innerHTML =
          `<div class="empty-state"><div class="empty-icon">ü©∏</div><div class="empty-title">Awaiting your symptoms</div><div class="empty-text">Select symptoms on the left and tap <strong>Analyze</strong> to receive your personalised report.</div></div>`;
      }

      init();
    </script>
  </body>
</html>
